(this.webpackJsonpfinder=this.webpackJsonpfinder||[]).push([[0],{55:function(e,n,t){e.exports=t(82)},81:function(e,n,t){},82:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(15),c=t.n(i),l=t(10),o=t.n(l),s=t(14),d=t(99),u=t(47),m=t.n(u),f=t(29),p=t(13),v=t(52),h=function(e,n){var t=new Set(e);return e.has(n)?t.delete(n):t.add(n),t},g=function(e,n){switch(n.type){case"SET_GENRES":return Object(p.a)({},e,{genres:n.payload});case"ADD_OR_REMOVE_GENRE_FILTER":return Object(p.a)({},e,{filteredGenres:h(e.filteredGenres,n.payload)});case"SET_MOVIES":return Object(p.a)({},e,{movies:n.payload,filteredMovies:n.payload,filteredGenres:new Set});case"FILTER_MOVIES":return Object(p.a)({},e,{filteredMovies:(t=e.movies,a=e.filteredGenres,0===a.size?Object(v.a)(t):t.filter((function(e){return e.genres.some((function(e){return a.has(e)}))}))),isSideBarVisible:!1});case"OPEN_OVERLAY":return Object(p.a)({},e,{selectedMovie:n.payload,isOverlayVisible:!0});case"CLOSE_OVERLAY":return Object(p.a)({},e,{selectedMovie:null,isOverlayVisible:!1});case"OPEN_SIDEBAR":return Object(p.a)({},e,{isSideBarVisible:!0});case"CLOSE_SIDEBAR":return Object(p.a)({},e,{isSideBarVisible:!1});default:return e}var t,a},b={genres:[],filteredGenres:new Set,movies:[],filteredMovies:[],selectedMovie:null,isOverlayVisible:!1,isSideBarVisible:!1},E=Object(a.createContext)(),x=function(e){var n=Object(a.useReducer)(g,b),t=Object(f.a)(n,2),i=t[0],c=t[1];return r.a.createElement(E.Provider,{value:{state:i,dispatch:c}},e.children)},w=t(3),y=t(4);function O(){var e=Object(w.a)(["\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background-color: rgba(0, 0, 0, .5);\n    z-index: 1;\n\n    .container-box {\n        background-color: white;\n        position: fixed;\n        top: 2.5rem;\n        left: 2.5rem;\n        bottom: 2.5rem;\n        right: 2.5rem;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        padding: 1rem;\n\n        .close {\n            color: black;\n            position: absolute;\n            /* button width is 48px */\n            top: -20px;\n            right: -20px;\n            z-index: 2;\n        }\n\n        img {\n            max-width: 100%;\n        }\n\n        .content {\n            display: flex;\n            flex-direction: column;\n\n            .header {\n                display: flex;\n                align-items: center;\n                width: 100%;\n                margin-top: 1.5rem;\n\n                .title-date {\n                    display: flex;\n                    flex-direction: column;\n\n                    .title {\n                        font-size: .9rem;\n                    }\n\n                    .date {\n                        font-size: .7rem;\n                    }\n                }\n\n                .rate {\n                    margin-left: auto;\n                    background-color: #f0f0f0;\n                    padding: .5rem;\n                    border-radius: 2.5px;\n                }\n            }\n\n            .overview {\n                margin: 1.5rem 0;\n                font-size: .8rem;\n            }\n\n            .actions {\n                width: 100%;\n                margin-top: auto;\n                display: flex;\n                justify-content: space-evenly;\n\n                button {\n                    cursor: pointer;\n                    padding: .5rem 1rem;\n                    border: none;\n\n                    &.offline {\n                        background-color: white;\n                        border: 2px solid #f0f0f0;\n                    }\n\n                    &.online {\n                        background-color: #f0f0f0;\n                    }\n                }\n            }\n        }\n    }\n\n    @media (min-width: 650px) {\n        .container-box {\n            flex-direction: row;\n            height: 450px;\n            margin: auto;\n            padding: 1rem 0;\n\n            img {\n                width: 30%;\n                height: 100%;\n                padding: 0 1rem;\n            }\n\n            .content {\n                width: 70%;\n                height: 100%;\n                padding: 0 1rem;\n\n                .header {\n                    .title-date {\n                        .title {\n                            font-size: 1.2rem;\n                        }\n\n                        .date {\n                            font-size: .75rem;\n                        }\n                    }\n\n                    .rate {\n                        margin-left: auto;\n                        background-color: #f0f0f0;\n                        padding: .5rem;\n                        border-radius: 2.5px;\n                    }\n                }\n\n                .overview {\n                    font-size: 1rem;\n                }\n            }\n        }\n    }\n\n    @media (min-width: 1024px) {\n        .container-box {\n            width: 80%;\n        }\n    }\n\n    @media(min-width: 1200px) {\n        .container-box {\n            width: 60%;\n        }\n    }\n"]);return O=function(){return e},e}var k=y.a.div(O()),j=function(){var e=Object(a.useContext)(E),n=e.state,t=e.dispatch,i=n.selectedMovie,c=i.image,l=i.title,o=i.rate,s=i.release_date,u=i.overview,f=function(){t({type:"CLOSE_OVERLAY"})};return r.a.createElement(k,{onClick:f},r.a.createElement("div",{className:"container-box",onClick:function(e){return e.stopPropagation()}},r.a.createElement(d.a,{className:"close",onClick:f},r.a.createElement(m.a,null)),r.a.createElement("img",{src:c,alt:l}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title-date"},r.a.createElement("span",{className:"title"},l),r.a.createElement("span",{className:"date"},s)),r.a.createElement("span",{className:"rate"},o)),r.a.createElement("div",{className:"overview"},u),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"offline"},"Watch Offline"),r.a.createElement("button",{className:"online"},"Watch Online")))))},_=t(48),N=t.n(_);function S(){var e=Object(w.a)(["\n    display: flex;\n    align-items: center;\n    padding: 0 1rem;\n    background-color: #f0f0f0;\n    height: 48px;\n\n    .title {\n        font-size: 1.5rem;\n        cursor: pointer;\n    }\n\n    .menu-icon {\n        margin-left: auto;\n    }\n\n    @media (min-width: 768px) {\n        .menu-icon {\n            display: none;\n        }\n    }\n"]);return S=function(){return e},e}var C=y.a.div(S()),R=function(){var e=Object(a.useContext)(E).dispatch;return r.a.createElement(C,null,r.a.createElement("h1",{className:"title"},"Movie Finder"),r.a.createElement(d.a,{className:"menu-icon",onClick:function(){return e({type:"OPEN_SIDEBAR"})}},r.a.createElement(N.a,{style:{color:"black"}})))},V=t(49),I=t.n(V),z=t(101),M=t(100),L=function(e){var n=e.id,t=e.name,i=e.isFiltered,c=Object(a.useContext)(E).dispatch;return r.a.createElement("div",null,r.a.createElement(z.a,{control:r.a.createElement(M.a,{style:{color:"black"},checked:i,onChange:function(){return c({type:"ADD_OR_REMOVE_GENRE_FILTER",payload:n})}}),label:t}))};function G(){var e=Object(w.a)(["\n    margin-bottom: 1rem;\n\n    .title {\n        margin-bottom: 1rem;\n    }\n\n    @media (min-width: 650px) {\n        .genres {\n            display: grid;\n            grid-template-columns: repeat(2, 1fr);\n        }\n    }\n\n    @media (min-width: 768px) {\n        .genres {\n            display: block;\n        }\n    }\n"]);return G=function(){return e},e}var A=y.a.div(G()),B=function(){var e=Object(a.useContext)(E).state,n=e.genres,t=e.filteredGenres;return r.a.createElement(A,null,r.a.createElement("h1",{className:"title"},"Genres"),r.a.createElement("div",{className:"genres"},n.map((function(e){return r.a.createElement(L,Object.assign({key:e.id,isFiltered:t.has(e.id)},e))}))))};function F(){var e=Object(w.a)(["\n    padding: 1rem;\n    background-color: #f0f0f0;\n    height: 100%;\n\n    .container {\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        overflow-y: scroll;\n\n        .filter {\n            margin-top: auto;\n            padding: .5rem 0;\n            border: 1px solid black;\n            background-color: white;\n            font-size: .8rem;\n            border-radius: 5px;\n            cursor: pointer;\n        }\n    }\n\xdf\n    @media (min-width: 650px) {\n        height: 100%;\n        justify-content: space-between;\n    }\n\n    @media (min-width: 768px) {\n        margin: 0;\n    }\n"]);return F=function(){return e},e}var T=y.a.div(F()),D=function(){var e=Object(a.useContext)(E).dispatch;return r.a.createElement(T,null,r.a.createElement("div",{className:"container"},r.a.createElement(B,null),r.a.createElement("button",{className:"filter",onClick:function(){return e({type:"FILTER_MOVIES"})}},"Filter")))};function P(){var e=Object(w.a)(["\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background-color: #f0f0f0;\n    padding: 1.5rem 1rem;\n    display: flex;\n    flex-direction: column;\n    z-index: 1;\n\n    .close {\n        display: flex;\n\n        button {\n            margin-left: auto;\n            width: 24px;\n            height: 24px;\n        }\n    }\n\n    @media (min-width: 768px) {\n        display: none;\n    }\n"]);return P=function(){return e},e}var J=y.a.div(P()),Y=function(){var e=Object(a.useContext)(E),n=e.state,t=e.dispatch,i=n.isSideBarVisible;return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(J,null,r.a.createElement("div",{className:"close"},r.a.createElement(d.a,{onClick:function(){return t({type:"CLOSE_SIDEBAR"})}},r.a.createElement(I.a,null))),r.a.createElement(D,null)):null)},W=t(51),q=t.n(W),U=t(50),H=t.n(U),K=function(){var e=Object(s.a)(o.a.mark((function e(n,t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.prev=1,e.next=4,H.a.get(n);case 4:r=e.sent,a=t(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t){return e.apply(this,arguments)}}(),Q="https://api.themoviedb.org/3",X="66b725c8addb143a3f0d48d8f54c417d",Z=function(e){return{id:e.id,image:e.poster_path?"".concat("https://image.tmdb.org/t/p/w500","/").concat(e.poster_path):"/movie-finder-react/default.png",title:e.title,rate:e.vote_average,release_date:e.release_date,overview:e.overview,genres:e.genre_ids}};function $(){var e=Object(w.a)(["\n    display: flex;\n\n    input[type=text] {\n        flex: 1;\n        padding: 0 1rem;\n        font-size: .8rem;\n        border: 1px solid #f0f0f0;\n    }\n\n    button {\n        background-color: #f0f0f0;\n        border-radius: unset;\n    }\n"]);return $=function(){return e},e}var ee=y.a.div($()),ne=function(){var e=Object(a.useContext)(E).dispatch,n=Object(a.useState)(""),t=Object(f.a)(n,2),i=t[0],c=t[1],l=function(){var n=Object(s.a)(o.a.mark((function n(){var t,a,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==i){n.next=2;break}return n.abrupt("return");case 2:return t=encodeURI(i.trim()),a="".concat(Q).concat("/search/movie","?api_key=").concat(X,"&query=").concat(t),n.next=6,K(a,(function(e){return e.results.map(Z)}));case 6:r=n.sent,e({type:"SET_MOVIES",payload:r}),c("");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return r.a.createElement(ee,null,r.a.createElement("input",{type:"text",placeholder:"Search movie",value:i,onChange:function(e){var n=e.target.value;c(n)},autoFocus:!0}),r.a.createElement(d.a,{onClick:l},r.a.createElement(q.a,{style:{color:"black"}})))};function te(){var e=Object(w.a)(["\n    border: 1px solid #f0f0f0;\n    display: flex;\n    flex-direction: column;\n    height: 350px;\n\n    img {\n        width: 100%;\n        height: 250px;\n        cursor: pointer;\n    }\n\n    .content {\n        padding: 1rem .5rem;\n        flex: 1;\n        display: flex;\n        align-items: center;\n\n        .header {\n            display: flex;\n            align-items: center;\n\n            .title {\n                font-size: .9rem;\n                font-weight: bolder;\n            }\n\n            .rate {\n                margin-left: auto;\n                background-color: #f0f0f0;\n                padding: .5rem;\n                border-radius: 2.5px;\n            }\n        }\n\n        .overview {\n            display: none;\n        }\n    }\n\n    @media (min-width: 768px) {\n        flex-direction: row;\n        padding: .5rem;\n        height: 300px;\n\n        img {\n            width: 35%;\n            height: 100%;\n        }\n\n        .content {\n            width: 65%;\n            flex-direction: column;\n            padding-left: 1rem;\n\n            .header {\n                width: 100%;\n\n                title {\n                    font-size: 1rem;\n                }\n            }\n\n            .overview {\n                display: block;\n                margin-top: 1.1rem;\n                overflow:hidden;\n                font-size: .85rem;\n            }\n        }\n    }\n"]);return te=function(){return e},e}var ae=y.a.div(te()),re=function(e){var n=e.movie,t=Object(a.useContext)(E).dispatch,i=n.image,c=n.title,l=n.rate,o=n.overview;return r.a.createElement(ae,null,r.a.createElement("img",{src:i,alt:c,onClick:function(){return t({type:"OPEN_OVERLAY",payload:n})}}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"title"},c),r.a.createElement("span",{className:"rate"},l)),r.a.createElement("div",{className:"overview"},o)))};function ie(){var e=Object(w.a)(["\n    max-height: 100%;\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: .5rem;\n    margin-top: 1rem;\n    overflow-y: scroll;\n\n    @media (min-width: 450px) {\n        grid-template-columns: repeat(3, 1fr);\n    }\n\n    @media (min-width: 650px) {\n        grid-template-columns: repeat(4, 1fr);\n    }\n\n    @media (min-width: 768px) {\n        grid-template-columns: repeat(1, 1fr);\n    }\n\n    @media (min-width: 1200px) {\n        grid-template-columns: repeat(2, 1fr);\n    }\n"]);return ie=function(){return e},e}var ce=y.a.div(ie()),le=function(){var e=Object(a.useContext)(E).state.filteredMovies;return r.a.createElement(ce,null,e.map((function(e){return r.a.createElement(re,{key:e.id,movie:e})})))};function oe(){var e=Object(w.a)(["\n    display: flex;\n    width: 100%;\n    padding: 2rem 1.5rem;\n    flex: 1;\n    overflow: auto;\n\n    .filters {\n        display: none;\n    }\n\n    .main {\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        padding: 0 1rem;\n    }\n\n    @media (min-width: 768px) {\n        .filters {\n            display: block;\n            width: 30%;\n        }\n\n        .main {\n            width: 70%;\n        }\n    }\n\n    @media (min-width: 1200px) {\n        .filters {\n            width: 20%;\n        }\n\n        .main {\n            width: 80%;\n        }\n    }\n"]);return oe=function(){return e},e}var se=y.a.div(oe()),de=function(){return r.a.createElement(se,null,r.a.createElement(Y,null),r.a.createElement("div",{className:"filters"},r.a.createElement(D,null)),r.a.createElement("div",{className:"main"},r.a.createElement(ne,null),r.a.createElement(le,null)))};function ue(){var e=Object(w.a)(["\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n\n    .body {\n        display: flex;\n        flex-direction: column;\n    }\n"]);return ue=function(){return e},e}var me=y.a.div(ue()),fe=function(){var e=Object(a.useContext)(E),n=e.state,t=e.dispatch;Object(a.useEffect)((function(){var e=function(){var e=Object(s.a)(o.a.mark((function e(n,t,a){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem(n)){e.next=3;break}return r=JSON.parse(localStorage.getItem(n)),e.abrupt("return",r);case 3:return e.next=5,K(t,a);case 5:return i=e.sent,localStorage.setItem(n,JSON.stringify(i)),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),n=function(){var n=Object(s.a)(o.a.mark((function n(){var a,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="".concat(Q).concat("/genre/movie/list","?api_key=").concat(X),n.next=3,e("ls_genres",a,(function(e){return e.genres}));case 3:r=n.sent,t({type:"SET_GENRES",payload:r});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(){var n=Object(s.a)(o.a.mark((function n(){var a,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="".concat(Q).concat("/movie/top_rated","?api_key=").concat(X),n.next=3,e("ls_top_rated",a,(function(e){return e.results.map(Z)}));case 3:r=n.sent,t({type:"SET_MOVIES",payload:r});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n(),a()}),[t]);var i=n.isOverlayVisible;return r.a.createElement(me,null,i&&r.a.createElement(j,null),r.a.createElement(R,null),r.a.createElement(de,null))};t(81);c.a.render(r.a.createElement(x,null,r.a.createElement(fe,null)),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.334e9f10.chunk.js.map